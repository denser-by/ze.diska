package mydev.vutils; import java.io.File; import java.io.FileOutputStream; import java.io.IOException; public class Data { public Data() { super();} public String dump(Ester[] convert) { Ester est=new Ester(""); if(convert !=null) { est.append('['); for(int i=0; i < convert.length; i++) { if(i > 0) est.append(','); est.append('\"'); est.append(convert[i] !=null ? convert[i] : new Ester("null")); est.append('\"');} est.append(']');} return est.toString();} public String dump(Object[] convert) { Ester est=new Ester(""); if(convert !=null) { est.append('{'); for(int i=0; i < convert.length; i++) { if(i > 0) est.append(';'); est.append('\''); est.append(convert[i] !=null ? convert[i].toString() : "null"); est.append('\'');} est.append('}');} return est.toString();} public String dump(Spiska convert) { Ester est=new Ester(""); if(convert !=null) { est.append('{'); for(int i=0; i < convert.size(); i++) { if(i > 0) est.append(';'); Object obj=convert.at(i); est.append('\''); est.append(obj !=null ? obj.toString() : "null"); est.append('\'');} est.append('}');} return est.toString();} public String dump(Stachko convert) { Ester est=new Ester(""); if(convert !=null) { est.append('{'); boolean first=true; while(convert.has()) { if(first) first=false; else est.append(';'); Object obj=convert.pop(); est.append('\''); est.append(obj !=null ? obj.toString() : "null"); est.append('\'');} est.append('}');} return est.toString();} public String dump(Stoish convert) { Ester est=new Ester(""); if(convert !=null) { est.append('{'); boolean first=true; while(convert.has()) { if(first) first=false; else est.append(';'); Object obj=convert.pop(); est.append('\''); est.append(obj !=null ? obj.toString() : "null"); est.append('\'');} est.append('}');} return est.toString();} public String dump(Karta convert) { Ester est=new Ester(""); if(convert !=null) { est.append('{'); String[] keys=convert.keys(); for(int i=0; i < keys.length; i++) { if(i > 0) est.append(';'); est.append('\''); est.append(keys[i] !=null ? keys[i].toString() : "null"); est.append('\''); Object obj=convert.get(keys[i]); est.append('\''); est.append(obj !=null ? obj.toString() : "null"); est.append('\'');} est.append('}');} return est.toString();} public static Ester replace(Ester str,Ester p1,Ester p2) { Ester result=new Ester(""); int i=0; if(str.begins(p1)) { result.append(p2); i+=p1.length();} else { result.append(str.at(0)); i=1;} do { if(str.sub(i).begins(p1)) { result.append(p2); i+=p1.length();} else { result.append(str.at(i)); i+=1;}} while(i < str.length()); return result;} public void write(String path,Ester ester) throws IOException { File wOpen=new File(path); FileOutputStream os=new FileOutputStream(wOpen); ester.write(os); os.flush(); os.close();}}