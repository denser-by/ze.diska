package mydev.uix; import java.awt.Component; import java.awt.Image; import java.awt.image.DirectColorModel; import java.awt.image.MemoryImageSource; public abstract class AnimationFrame { protected int[] pixels; protected int width; protected int height; protected Image img; protected AnimationFrame() { super();} protected abstract int getWidth(); protected abstract int getHeight(); protected abstract int[] initData(); public Image getImage(Component ctx) { if(img==null) { int bits=32; int redMask=0xff0000; int greenMask=0xff00; int blueMask=0xff; DirectColorModel dcm=new DirectColorModel(bits,redMask,greenMask,blueMask); int shift=0; if(pixels==null) { width=getWidth(); height=getHeight(); pixels=initData();} int online=width; img=ctx.createImage(new MemoryImageSource(width,height,dcm,pixels,shift,online));} return img;} public String toString() { return "AnimationFrame [pixelsLength="+(pixels !=null ? pixels.length : 0)+", width="+width+", height="+height+", img="+img+"]";}}